{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "https://api.maas.global/maas-backend/bookings/bookings-agency-options/response",
  "description": "Response schema for bookings-agency-options (to mobile clients)",
  "type": "object",
  "properties": {
    "options": {
      "type": "array",
      "items": {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "id": "https://api.maas.global/core/agency-option",
        "description": "MaaS Single agency option response",
        "type": "object",
        "properties": {
          "leg": {
            "type": "object",
            "properties": {
              "startTime": {
                "type": "integer",
                "maximum": 9007199254740991,
                "minimum": 1451606400
              },
              "endTime": {
                "type": "integer",
                "maximum": 9007199254740991,
                "minimum": 1451606400
              },
              "from": {
                "description": "Starting location's lat and lon pair of this request",
                "type": "object",
                "properties": {
                  "lat": {
                    "type": "number",
                    "minimum": -90,
                    "maximum": 90
                  },
                  "lon": {
                    "type": "number",
                    "minimum": -180,
                    "maximum": 180
                  }
                }
              },
              "to": {
                "description": "Destinated location's lat and lon pair of this request",
                "type": "object",
                "properties": {
                  "lat": {
                    "type": "number",
                    "minimum": -90,
                    "maximum": 90
                  },
                  "lon": {
                    "type": "number",
                    "minimum": -180,
                    "maximum": 180
                  }
                }
              },
              "agencyId": {
                "type": "string"
              },
              "mode": {
                "$schema": "http://json-schema.org/draft-04/schema#",
                "id": "https://api.maas.global/core/mode",
                "description": "MaaS supported leg modes",
                "definitions": {
                  "mode": {
                    "anyOf": [
                      {
                        "description": "A mode that only involves waiting in the current location",
                        "type": "string",
                        "enum": [
                          "WAIT"
                        ]
                      },
                      {
                        "description": "A mode that involves changing transports",
                        "type": "string",
                        "enum": [
                          "TRANSFER",
                          "LEG_SWITCH"
                        ]
                      },
                      {
                        "description": "A mode that involves using your personal vehicle or legs",
                        "type": "string",
                        "enum": [
                          "WALK",
                          "BICYCLE",
                          "CAR"
                        ]
                      },
                      {
                        "description": "A mode that involves transit with fixed schedules",
                        "type": "string",
                        "enum": [
                          "TRAM",
                          "SUBWAY",
                          "RAIL",
                          "BUS",
                          "FERRY",
                          "TRANSIT",
                          "TRAIN",
                          "AEROPLANE"
                        ]
                      },
                      {
                        "description": "A mode that is available on-demand for your personal use",
                        "type": "string",
                        "enum": [
                          "CAR",
                          "TAXI",
                          "CABLE_CAR",
                          "GONDOLA",
                          "FUNICULAR",
                          "BUSISH",
                          "TRAINISH"
                        ]
                      }
                    ]
                  },
                  "waitingMode": {
                    "description": "A mode that only involves waiting in the current location",
                    "type": "string",
                    "enum": [
                      "WAIT"
                    ]
                  },
                  "transferMode": {
                    "description": "A mode that involves changing transports",
                    "type": "string",
                    "enum": [
                      "TRANSFER",
                      "LEG_SWITCH"
                    ]
                  },
                  "personalMode": {
                    "description": "A mode that involves using your personal vehicle or legs",
                    "type": "string",
                    "enum": [
                      "WALK",
                      "BICYCLE",
                      "CAR"
                    ]
                  },
                  "publicTransitMode": {
                    "description": "A mode that involves transit with fixed schedules",
                    "type": "string",
                    "enum": [
                      "TRAM",
                      "SUBWAY",
                      "RAIL",
                      "BUS",
                      "FERRY",
                      "TRANSIT",
                      "TRAIN",
                      "AEROPLANE"
                    ]
                  },
                  "privateTransitMode": {
                    "description": "A mode that is available on-demand for your personal use",
                    "type": "string",
                    "enum": [
                      "CAR",
                      "TAXI",
                      "CABLE_CAR",
                      "GONDOLA",
                      "FUNICULAR",
                      "BUSISH",
                      "TRAINISH"
                    ]
                  }
                }
              }
            },
            "required": [
              "agencyId"
            ],
            "additionalProperties": false
          },
          "meta": {
            "type": "object",
            "description": "Details and specs of the vehicle"
          },
          "terms": {
            "type": "object",
            "description": "Tsp terms of usage / order",
            "properties": {
              "validityDuration": {
                "type": "integer",
                "maximum": 9007199254740991,
                "minimum": 1451606400
              }
            },
            "additionalProperties": true
          },
          "cost": {
            "type": "object",
            "required": [
              "amount",
              "currency"
            ],
            "properties": {
              "amount": {
                "type": "number",
                "minimum": 0
              },
              "currency": {
                "type": "string",
                "enum": [
                  "EUR"
                ]
              }
            },
            "additionalProperties": false
          },
          "signature": {
            "type": "string",
            "description": "This object's signature"
          }
        },
        "required": [
          "leg",
          "meta",
          "terms"
        ]
      }
    },
    "maas": {
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "options"
  ],
  "additionalProperties": false
}